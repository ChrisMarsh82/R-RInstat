<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Simulate scatterplots, from 'lm' object with a single...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for plotSimScat {DAAG}"><tr><td>plotSimScat {DAAG}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Simulate scatterplots, from <code>lm</code> object with a single explanatory variable.
</h2>

<h3>Description</h3>

<p>This plots simulated y-values, or residuals from such simulations,
against x-values
.</p>


<h3>Usage</h3>

<pre>
plotSimScat(obj, sigma = NULL, layout = c(4, 1), type = c("p", "r"),
show = c("points", "residuals"), ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>obj</code></td>
<td>

<p>An <code>lm</code> object with a single explanatory variable.
</p>
</td></tr>
<tr valign="top"><td><code>sigma</code></td>
<td>

<p>Standard deviation, if different from that for the supplied <code>lm</code>
object.
</p>
</td></tr>
<tr valign="top"><td><code>layout</code></td>
<td>

<p>Columns by Rows layout for plots from the simulations.
</p>
</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>

<p>See <code>type</code> as in <code><a href="../../stats/html/plot.lm.html">plot.lm</a></code>.
</p>
</td></tr>
<tr valign="top"><td><code>show</code></td>
<td>

<p>Specify <code>points</code> or residuals.
</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Other parameters to be passed to plotting functions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A lattice graphics object is returned.
</p>


<h3>Author(s)</h3>

<p>J H Maindonald
</p>


<h3>See Also</h3>

<p><code><a href="../../DAAG/help/plotSimDiags.html">plotSimDiags</a></code>
</p>


<h3>Examples</h3>

<pre>
nihills.lm &lt;- lm(timef~time, data=nihills)
plotSimDiags(nihills.lm)

## The function is currently defined as
function (obj, sigma = NULL, layout = c(4, 1), type = c("p",
    "r"), show = c("points", "residuals"))
{
    nsim &lt;- prod(layout)
    if (is.null(sigma))
        sigma &lt;- summary(obj)[["sigma"]]
    hat &lt;- fitted(obj)
    xnam &lt;- all.vars(formula(obj))[2]
    ynam &lt;- all.vars(formula(obj))[1]
    df &lt;- data.frame(sapply(1:nsim, function(x) rnorm(length(hat),
        sd = sigma)))
    if (show[1] == "points")
        df &lt;- df + hat
    simnam &lt;- names(df) &lt;- paste("Simulation", 1:nsim, sep = "")
    df[, c(xnam, ynam)] &lt;- model.frame(obj)[, c(xnam, ynam)]
    if (show[1] != "points") {
        df[, "Residuals"] &lt;- df[, ynam] - hat
        ynam &lt;- "Residuals"
        legadd &lt;- "residuals"
    }
    else legadd &lt;- "data"
    leg &lt;- list(text = paste(c("Simulated", "Actual"), legadd),
        columns = 2)
    formula &lt;- formula(paste(paste(simnam, collapse = "+"), "~",
        xnam))
    parset &lt;- simpleTheme(pch = c(16, 16), lty = 2, col = c("black",
        "gray"))
    gph &lt;- xyplot(formula, data = df, outer = TRUE, par.settings = parset,
        auto.key = leg, lty = 2, layout = layout, type = type)
    formxy &lt;- formula(paste(ynam, "~", xnam))
    addgph &lt;- xyplot(formxy, data = df, pch = 16, col = "gray")
    gph + as.layer(addgph, under = TRUE)
  }
</pre>

<hr /><div style="text-align: center;">[Package <em>DAAG</em> version 1.25.4 <a href="00Index.html">Index</a>]</div>
</div></body></html>
